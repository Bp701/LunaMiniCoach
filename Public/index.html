<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luna Educational Demo</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
    <!-- ZMIANA: Bezpieczna nazwa wersji -->
    <div class="demo-watermark">Luna Junior v1.0 (Pilot Version)</div>

    <section class="welcome-screen active" id="welcomeScreen">
        <div class="container">
            <div class="welcome-content">
                <div class="luna-logo">ğŸ§¸âš¡</div>
                <h1 class="welcome-title">Luna Mini Coach</h1>
                <p class="welcome-subtitle">Inteligentny System Wsparcia Rozwoju Sensorycznego</p>

                <div class="value-proposition">
                    <!-- ZMIANA: UsuniÄ™to medyczne terminy -->
                    <div class="value-item"><span class="icon">â¤ï¸</span><span class="text">SpokÃ³j</span></div>
                    <div class="value-item"><span class="icon">ğŸ§ </span><span class="text">Koncentracja</span></div>
                    <div class="value-item"><span class="icon">ğŸ“Š</span><span class="text">PostÄ™py</span></div>
                </div>

                <div class="login-area">
                    <input type="text" id="usernameInput" class="form-control" placeholder="ImiÄ™ Dziecka">
                </div>

                <!-- ZMIANA: "Uruchom DiagnostykÄ™" -> "ROZPOCZNIJ ZABAWÄ˜" -->
                <button class="btn btn--primary btn--large" id="loginButton">ROZPOCZNIJ ZABAWÄ˜</button>
                <p class="demo-info">System dziaÅ‚a lokalnie (BezpieczeÅ„stwo RODO ğŸ”’)</p>
                
                <!-- DODATEK: Nota Prawna -->
                <footer style="margin-top: 30px; font-size: 10px; color: #aaa; max-width: 600px; margin-left: auto; margin-right: auto;">
                    <p><strong>NOTA PRAWNA:</strong> Aplikacja Luna Mini Coach jest narzÄ™dziem edukacyjno-wspierajÄ…cym, a nie wyrobem medycznym. Nie sÅ‚uÅ¼y do diagnozowania ani leczenia. Administrator: NeuroEdu Labs.</p>
                </footer>
            </div>
        </div>
    </section>

    <section class="exercise-selection hidden" id="exerciseSelection">
        <div class="container">
            <div class="header">
                <h2>Centrum Zabaw</h2>
                <p>Wybierz zabawÄ™:</p>
                <div class="progress-info" style="display:none;">
                    <span class="progress-text">Punkty: <span id="starCount">0</span> â­</span>
                </div>
            </div>

            <div class="exercise-categories">
                <div class="exercise-card" data-category="pulse"
                    style="border: 2px solid #a29bfe; background: #f8f6ff;">
                    <div class="card-icon">ğŸ“…</div>
                    <h3>PULS DNIA</h3>
                    <p>Zanotuj nastrÃ³j</p>
                </div>

                <div class="exercise-card" data-category="visual">
                    <div class="card-icon">ğŸ‘ï¸</div>
                    <h3>BYSTRE OCZKO</h3>
                    <p>Trening koncentracji</p>
                </div>

                <div class="exercise-card" data-category="auditory">
                    <div class="card-icon">ğŸ‘‚</div>
                    <h3>MUZYCZNE UCHO</h3>
                    <p>Rytm i sÅ‚uch</p>
                </div>

                <div class="exercise-card" data-category="tactile">
                    <div class="card-icon">âœ‹</div>
                    <h3>SPRAWNE RÄ„CZKI</h3>
                    <p>Koordynacja</p>
                </div>

                <div class="exercise-card" data-category="memory">
                    <div class="card-icon">ğŸ§ </div>
                    <h3>SUPER PAMIÄ˜Ä†</h3>
                    <p>Trening pamiÄ™ci</p>
                </div>
            </div>

            <div class="bottom-nav">
                <!-- ZMIANA: "Panel Analityczny" -> "Panel Rodzica" -->
                <button class="btn btn--outline" id="parentDashboardBtn">Panel Rodzica (PostÄ™py)</button>
                <button class="btn btn--secondary" id="backToWelcomeBtn">Wyloguj</button>
            </div>
            
             <!-- DODATEK: Nota Prawna (skrÃ³cona) -->
             <div style="text-align: center; margin-top: 20px; font-size: 9px; color: #ccc;">
                Luna Junior v1.0 (Pilot). NarzÄ™dzie edukacyjne, nie medyczne.
            </div>
        </div>
    </section>

    <section class="exercise-screen hidden" id="pulseScreen">
        <div class="container">
            <div class="exercise-header">
                <h2>Jak minÄ…Å‚ dzieÅ„?</h2>
                <p id="currentDateDisplay" style="color:#7f8c8d;"></p>
            </div>

            <div class="game-area"
                style="text-align: left; max-width: 500px; margin: 0 auto; background: rgba(255,255,255,0.95); padding: 20px; border-radius: 15px;">

                <label style="font-weight:bold; display:block; margin-bottom:10px;">OgÃ³lny nastrÃ³j:</label>
                <div class="mood-selector" style="display:flex; justify-content:space-between; margin-bottom:20px;">
                    <button class="btn-mood" data-value="1">ğŸ˜©</button>
                    <button class="btn-mood" data-value="2">ğŸ˜Ÿ</button>
                    <button class="btn-mood" data-value="3">ğŸ˜</button>
                    <button class="btn-mood" data-value="4">ğŸ™‚</button>
                    <button class="btn-mood" data-value="5">ğŸ˜</button>
                </div>

                <label style="font-weight:bold; display:block; margin-bottom:10px;">Co siÄ™ dziaÅ‚o? (Zaznacz):</label>
                <div class="tags-container" id="tagsContainer"
                    style="display:flex; flex-wrap:wrap; gap:10px; margin-bottom:20px;">
                    <button class="btn-tag" onclick="toggleTag(this)">Trudne emocje ğŸ¤¯</button>
                    <button class="btn-tag" onclick="toggleTag(this)">Problemy ze snem ğŸŒ™</button>
                    <button class="btn-tag" onclick="toggleTag(this)">Dobra zabawa ğŸ§©</button>
                    <button class="btn-tag" onclick="toggleTag(this)">Leki ğŸ’Š</button>
                    <button class="btn-tag" onclick="toggleTag(this)">SzkoÅ‚a/Przedszkole ğŸ«</button>
                    <button class="btn-tag" onclick="toggleTag(this)">Sukces! ğŸ†</button>
                </div>

                <label style="font-weight:bold; display:block; margin-bottom:10px;">KrÃ³tka notatka:</label>
                <textarea id="pulseNote" class="form-control" rows="3"
                    style="width:100%; max-width:100%; text-align:left;"
                    placeholder="Np. ZasnÄ…Å‚ dopiero o 23:00..."></textarea>

                <hr style="margin: 20px 0; border:0; border-top:1px solid #ddd;">

                <div style="background: #e3f2fd; padding:15px; border-radius:10px; text-align:center;">
                    <p style="margin:0 0 10px 0; font-size:0.9rem;">Generuj raport (ostatnie 30 dni):</p>
                    <button class="btn btn--outline" id="generatePdfBtn" style="font-size:0.9rem;">ğŸ“„ Pobierz
                        PDF</button>
                </div>
            </div>

            <div class="exercise-nav" style="margin-top:20px;">
                <button class="btn btn--secondary" id="backToSelectionBtnPulse">PowrÃ³t</button>
                <button class="btn btn--primary" id="savePulseBtn">Zapisz DzieÅ„</button>
            </div>
        </div>
    </section>

    <section class="exercise-screen hidden" id="visualExercise">
        <div class="container">
            <div class="exercise-header">
                <h2>ZnajdÅº taki sam kolor!</h2>
            </div>
            <div class="game-area">
                <div class="target-area">
                    <p>Wzorzec:</p>
                    <div class="target-color" id="targetColor"
                        style="width:100px; height:100px; margin:0 auto; border-radius:15px; border:4px solid #333;">
                    </div>
                </div>
                <div class="choices-area">
                    <p>Wybierz pasujÄ…cy:</p>
                    <div class="color-choices" id="colorChoices"
                        style="display:flex; justify-content:center; flex-wrap:wrap; gap:10px;"></div>
                </div>
            </div>
            <div class="feedback-area" id="visualFeedback"></div>
            <div class="exercise-nav">
                <button class="btn btn--secondary" id="backToSelectionBtn1">PowrÃ³t</button>
                <button class="btn btn--primary" id="nextVisualBtn">NastÄ™pny</button>
            </div>
        </div>
    </section>

    <section class="exercise-screen hidden" id="auditoryExercise">
        <div class="container">
            <div class="exercise-header">
                <h2>PowtÃ³rz rytm!</h2>
            </div>
            <div class="game-area">
                <div class="rhythm-display">
                    <p>Sekwencja:</p>
                    <div class="rhythm-pattern" id="rhythmPattern"></div>
                    <button class="btn btn--primary" id="playRhythmBtn">â–¶ï¸ OdtwÃ³rz</button>
                </div>
                <div class="rhythm-input">
                    <p>Twoja kolej:</p>
                    <div class="drum-pad" id="drumPad" style="font-size:4rem; cursor:pointer;">ğŸ¥</div>
                    <button class="btn btn--outline btn--sm" id="resetRhythmBtn">â†º Reset</button>
                    <div class="user-pattern" id="userPattern"></div>
                </div>
            </div>
            <div class="feedback-area" id="auditoryFeedback"></div>
            <div class="exercise-nav">
                <button class="btn btn--secondary" id="backToSelectionBtn2">PowrÃ³t</button>
                <button class="btn btn--primary" id="checkRhythmBtn">SprawdÅº</button>
            </div>
        </div>
    </section>

    <section class="exercise-screen hidden" id="tactileExercise">
        <div class="container">
            <div class="exercise-header">
                <h2>Ekspresja Emocjonalna</h2>
                <p>Narysuj: <span id="emotionPrompt" style="font-weight:bold;">RadoÅ›Ä‡</span></p>
            </div>
            <div class="game-area" style="position:relative;">
                <canvas id="drawingCanvas"></canvas>
            </div>
            <div class="drawing-tools">
                <button class="btn btn--outline" id="clearCanvasBtn">WyczyÅ›Ä‡</button>
                <button class="btn btn--primary" id="submitDrawingBtn">Zapisz</button>
            </div>
            <div class="feedback-area" id="tactileFeedback"></div>
            <div class="exercise-nav">
                <button class="btn btn--secondary" id="backToSelectionBtn3">PowrÃ³t</button>
            </div>
        </div>
    </section>

    <section class="exercise-screen hidden" id="memoryExercise">
        <div class="container">
            <div class="exercise-header">
                <h2>Memory DÅºwiÄ™kowe</h2>
                <p>Pary: <span id="memoryPairsFound">0</span>/4</p>
            </div>
            <div class="game-area">
                <div class="memory-grid" id="memoryGrid"></div>
            </div>
            <div class="exercise-nav">
                <button class="btn btn--secondary" id="backToSelectionBtn4">PowrÃ³t</button>
            </div>
        </div>
    </section>

    <section class="parent-dashboard hidden" id="parentDashboard">
        <div class="container">
            <!-- ZMIANA: "Raport PostÄ™pÃ³w Klinicznych" -> "Raport PostÄ™pÃ³w Dziecka" -->
            <h2>Raport PostÄ™pÃ³w Dziecka</h2>
            <div class="chart-container"
                style="position: relative; height: 300px; width:100%; background:white; padding:20px; border-radius:15px;">
                <canvas id="progressChart"></canvas>
            </div>
            <button class="btn btn--secondary" id="backToDashboardBtn" style="margin-top:20px;">PowrÃ³t</button>
        </div>
    </section>

    <div class="modal hidden" id="successModal">
        <div class="modal-content">
            <h3 id="successTitle">Sesja ZakoÅ„czona</h3>
            <p id="successMessage">Dane zapisane w systemie.</p>
            <button class="btn btn--primary" id="continueBtn">Kontynuuj</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>

</html>